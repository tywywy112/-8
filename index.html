<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Flag Match AI Game</title>

<style>
body{
    font-family: Arial;
    margin:0;
    padding:0;
    min-height:100vh;
    background:
      linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)),
      url("https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg");
    background-size:cover;
    background-position:center;
    display:flex;
    justify-content:center;
    align-items:center;
}

.box{
    background:rgba(255,255,255,0.92);
    padding:25px;
    border-radius:18px;
    max-width:680px;
    width:90%;
    text-align:center;
    box-shadow:0 10px 30px rgba(0,0,0,0.3);
}

.flag{
    font-size:90px;
    margin:20px 0;
}

button{
    width:260px;
    padding:12px;
    margin:6px;
    border:none;
    border-radius:12px;
    background:#2563eb;
    color:white;
    font-size:16px;
    cursor:pointer;
}
button:hover{ background:#1e40af; }

.hidden{ display:none; }

.top{
    display:flex;
    justify-content:space-between;
    font-weight:bold;
    margin-bottom:10px;
}
</style>
</head>

<body>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å -->
<div class="box" id="menu">
    <h1>üåç Flag Match AI Game</h1>
    <p>‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡∏ò‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏î‡πâ‡∏ß‡∏¢ AI</p>
    <button onclick="startGame('continent')">üü¶ ‡∏ó‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏ß‡∏µ‡∏õ</button><br>
    <button onclick="startGame('country')">üü® ‡∏ó‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®</button>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° -->
<div class="box hidden" id="game">
    <div class="top">
        <div>‚úÖ ‡∏ñ‡∏π‡∏Å: <span id="correct">0</span></div>
        <div>‚ùå ‡∏ú‡∏¥‡∏î: <span id="wrong">0</span></div>
        <div>‚è± <span id="time">10</span>s</div>
    </div>

    <h3 id="title"></h3>
    <div class="flag" id="flag">üè≥Ô∏è</div>
    <div id="choices"></div>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á -->
    <hr>
    <button onclick="pauseToMenu()">‚è∏ ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡∏∏‡∏õ -->
<div class="box hidden" id="summary">
    <h2>üéâ ‡∏à‡∏ö‡πÄ‡∏Å‡∏°</h2>
    <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ: <span id="sumCorrect"></span> / 100</p>
    <p>‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î: <span id="sumWrong"></span> ‡∏Ç‡πâ‡∏≠</p>
    <button onclick="reviewWrong()">üîÅ ‡πÄ‡∏•‡πà‡∏ô‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î</button><br>
    <button onclick="resetGame()">üîÑ ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
</div>

<script>
const continents=["Asia","Europe","Africa","Australia"];

const countries=[
 {name:"Thailand",flag:"üáπüá≠",continent:"Asia"},
 {name:"Japan",flag:"üáØüáµ",continent:"Asia"},
 {name:"China",flag:"üá®üá≥",continent:"Asia"},
 {name:"India",flag:"üáÆüá≥",continent:"Asia"},
 {name:"Indonesia",flag:"üáÆüá©",continent:"Asia"},

 {name:"France",flag:"üá´üá∑",continent:"Europe"},
 {name:"Germany",flag:"üá©üá™",continent:"Europe"},
 {name:"Italy",flag:"üáÆüáπ",continent:"Europe"},
 {name:"Spain",flag:"üá™üá∏",continent:"Europe"},
 {name:"UK",flag:"üá¨üáß",continent:"Europe"},

 {name:"Egypt",flag:"üá™üá¨",continent:"Africa"},
 {name:"Nigeria",flag:"üá≥üá¨",continent:"Africa"},
 {name:"Kenya",flag:"üá∞üá™",continent:"Africa"},
 {name:"South Africa",flag:"üáøüá¶",continent:"Africa"},
 {name:"Morocco",flag:"üá≤üá¶",continent:"Africa"},

 {name:"Australia",flag:"üá¶üá∫",continent:"Australia"},
 {name:"New Zealand",flag:"üá≥üáø",continent:"Australia"}
];

let mode="",questions=[],current;
let index=0,correct=0,wrong=0,time=10;
let wrongList=[],timer,paused=false;

function shuffle(a){ return [...a].sort(()=>Math.random()-0.5); }

function startGame(m){
 mode=m;
 document.getElementById("menu").classList.add("hidden");
 document.getElementById("game").classList.remove("hidden");
 document.getElementById("title").innerText=
   mode==="continent"?"‡∏ó‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏ß‡∏µ‡∏õ":"‡∏ó‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®";

 if(paused){
   paused=false;
   nextQuestion();
 }else{
   index=0;correct=0;wrong=0;wrongList=[];
   questions=shuffle(countries).slice(0,100);
   nextQuestion();
 }
}

function nextQuestion(){
 clearInterval(timer);
 time=10;
 document.getElementById("time").innerText=time;

 if(index>=questions.length){ endGame(); return; }

 current=questions[index];
 document.getElementById("flag").innerText=current.flag;
 document.getElementById("correct").innerText=correct;
 document.getElementById("wrong").innerText=wrong;

 createChoices();
 timer=setInterval(countdown,1000);
}

function createChoices(){
 const box=document.getElementById("choices");
 box.innerHTML="";
 let opts=[];

 if(mode==="continent"){
   opts=[...continents];
 }else{
   opts=shuffle(
     countries.filter(c=>c.continent===current.continent)
   ).slice(0,3).map(c=>c.name);
   if(!opts.includes(current.name)) opts[0]=current.name;
 }

 shuffle(opts).forEach(o=>{
   const b=document.createElement("button");
   b.innerText=o;
   b.onclick=()=>answer(o);
   box.appendChild(b);
 });
}

function answer(a){
 clearInterval(timer);
 if(a===current.name||a===current.continent) correct++;
 else{
   wrong++; wrongList.push(current);
   alert("‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠ "+
     (mode==="continent"?current.continent:current.name));
 }
 index++; nextQuestion();
}

function countdown(){
 time--;
 document.getElementById("time").innerText=time;
 if(time<=0){
   wrong++; wrongList.push(current);
   index++; nextQuestion();
 }
}

function pauseToMenu(){
 clearInterval(timer);
 paused=true;
 document.getElementById("game").classList.add("hidden");
 document.getElementById("menu").classList.remove("hidden");
}

function endGame(){
 document.getElementById("game").classList.add("hidden");
 document.getElementById("summary").classList.remove("hidden");
 document.getElementById("sumCorrect").innerText=correct;
 document.getElementById("sumWrong").innerText=wrong;
}

function reviewWrong(){
 questions=[...wrongList];
 index=0; wrongList=[];
 document.getElementById("summary").classList.add("hidden");
 document.getElementById("game").classList.remove("hidden");
 nextQuestion();
}

function resetGame(){
 paused=false;
 document.getElementById("summary").classList.add("hidden");
 document.getElementById("menu").classList.remove("hidden");
}
</script>

</body>
</html>
